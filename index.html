<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cruising DownUnder • Premium Cruise Deals from Australia 2026+</title>
  <meta name="description" content="Best cruise deals departing Sydney, Brisbane, Melbourne, Perth & more. 2026 South Pacific, NZ, Barrier Reef on Carnival, Royal Caribbean, Princess & top lines."/>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

  <style>
    :root {
      --primary: #006b33;
      --primary-dark: #004d26;
      --accent: #ffd700;
      --dark: #002f19;
      --light: #f8f9fa;
      --gray: #6c757d;
      --bubble-shadow: 0 8px 25px rgba(0,0,0,0.15);
      --bubble-radius: 20px;
      --success: #28a745;
      --warning: #ffc107;
      --card-hover: 0 20px 40px rgba(0,0,0,0.2);
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Poppins', sans-serif;
      color: #333;
      background: linear-gradient(to bottom, #f0f8ff, var(--light));
      line-height: 1.85;
      padding-top: 80px;
      overflow-x: hidden;
    }

    section { padding: 6.5rem 1.5rem; }
    .container { max-width: 1400px; margin: 0 auto; padding: 0 1.5rem; }

    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      background: rgba(0, 107, 51, 0.96);
      backdrop-filter: blur(12px);
      z-index: 1000;
      transition: all 0.4s ease;
      box-shadow: var(--bubble-shadow);
    }
    header.scrolled { background: rgba(0, 107, 51, 1); }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.3rem 2.5rem;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 5.5vw, 2.8rem);
      color: white;
      text-decoration: none;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 1rem;
      text-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }
    .logo i { color: var(--accent); font-size: 2.2rem; }
    .logo span { color: var(--accent); }

    .nav-links {
      display: flex;
      gap: 2.5rem;
      align-items: center;
    }
    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.15rem;
      transition: all 0.3s;
      padding: 0.6rem 1.2rem;
      border-radius: 10px;
    }
    .nav-links a:hover { color: var(--accent); background: rgba(255,215,0,0.12); transform: translateY(-4px); }

    .user-menu { position: relative; }
    .user-menu button {
      background: none;
      border: none;
      color: white;
      font-size: 1.15rem;
      cursor: pointer;
      padding: 0.6rem 1.2rem;
      border-radius: 10px;
      transition: all 0.3s;
    }
    .user-menu button:hover { background: rgba(255,215,0,0.12); }

    .user-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: white;
      min-width: 220px;
      box-shadow: var(--bubble-shadow);
      border-radius: var(--bubble-radius);
      overflow: hidden;
      z-index: 100;
    }
    .user-dropdown.active { display: block; }
    .user-dropdown a, .user-dropdown button {
      display: block;
      width: 100%;
      padding: 1.1rem 1.5rem;
      text-align: left;
      background: none;
      border: none;
      color: #333;
      font-size: 1rem;
      transition: background 0.3s;
      cursor: pointer;
    }
    .user-dropdown a:hover, .user-dropdown button:hover { background: #f0f8ff; }

    .cart-icon {
      position: relative;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      transition: all 0.3s;
      padding: 0.6rem;
      border-radius: 50%;
    }
    .cart-icon:hover { color: var(--accent); background: rgba(255,215,0,0.12); transform: scale(1.1); }

    .cart-count {
      position: absolute;
      top: -10px;
      right: -14px;
      background: var(--accent);
      color: var(--dark);
      font-size: 0.85rem;
      font-weight: 700;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 3px 8px rgba(0,0,0,0.3);
    }

    .hamburger {
      display: none;
      flex-direction: column;
      gap: 7px;
      cursor: pointer;
    }
    .hamburger span {
      width: 34px;
      height: 4px;
      background: white;
      border-radius: 2px;
      transition: all 0.3s;
    }
    .hamburger.active span:nth-child(1) { transform: rotate(45deg) translate(7px, 7px); }
    .hamburger.active span:nth-child(2) { opacity: 0; }
    .hamburger.active span:nth-child(3) { transform: rotate(-45deg) translate(8px, -8px); }

    @media (max-width: 992px) {
      .nav-links {
        position: absolute;
        top: 100%; left: 0; right: 0;
        background: rgba(0, 107, 51, 0.98);
        flex-direction: column;
        padding: 3.5rem 2rem;
        gap: 2.8rem;
        display: none;
        box-shadow: var(--bubble-shadow);
      }
      .nav-links.active { display: flex; }
      .hamburger { display: flex; }
    }

    .hero {
      min-height: 95vh;
      background: linear-gradient(rgba(0,0,0,0.62), rgba(0,0,0,0.72)),
                  url('https://images.pexels.com/photos/11820069/pexels-photo-11820069.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1') center/cover no-repeat fixed;
      color: white;
      display: flex;
      align-items: center;
      text-align: center;
    }

    .hero-content { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }

    .hero h1 { 
      font-family: 'Playfair Display', serif;
      font-size: clamp(3.8rem, 9vw, 6.5rem); 
      margin-bottom: 2rem; 
      text-shadow: 0 8px 25px rgba(0,0,0,0.8);
      font-weight: 700;
      letter-spacing: 1.5px;
    }

    .hero p { 
      font-size: clamp(1.3rem, 3.5vw, 1.8rem); 
      margin-bottom: 4rem; 
      max-width: 950px; 
      margin-left: auto; 
      margin-right: auto;
      font-weight: 500;
      opacity: 0.95;
    }

    .hero-btn {
      background: linear-gradient(135deg, var(--accent), #e6c200);
      color: var(--dark);
      padding: 1.4rem 3rem;
      font-size: 1.35rem;
      font-weight: 700;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 12px 35px rgba(255,215,0,0.45);
      transition: all 0.4s;
    }
    .hero-btn:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 50px rgba(255,215,0,0.6);
    }

    .search-box {
      background: rgba(255,255,255,0.28);
      backdrop-filter: blur(22px);
      border-radius: var(--bubble-radius);
      padding: 4rem;
      border: 1px solid rgba(255,255,255,0.45);
      box-shadow: 0 18px 45px rgba(0,0,0,0.25);
      max-width: 1250px;
      margin: 4rem auto 0;
    }

    .search-box h3 { 
      margin-bottom: 3rem; 
      color: white; 
      font-size: 2.6rem; 
      text-align: center;
      font-weight: 700;
      text-shadow: 0 4px 12px rgba(0,0,0,0.6);
    }

    .form-grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
      gap: 2.5rem; 
    }

    select, input, textarea, button {
      padding: 1.5rem;
      border: none;
      border-radius: var(--bubble-radius);
      font-size: 1.15rem;
      background: rgba(255,255,255,0.97);
      box-shadow: var(--bubble-shadow);
      transition: all 0.3s;
    }

    select:focus, input:focus, textarea:focus {
      outline: none;
      box-shadow: 0 0 0 5px rgba(255,215,0,0.55);
      transform: translateY(-4px);
    }

    button {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      font-weight: 700;
      cursor: pointer;
      font-size: 1.3rem;
    }
    button:hover { 
      transform: translateY(-10px); 
      box-shadow: 0 25px 50px rgba(0,107,51,0.75); 
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap: 3.5rem;
    }

    .card {
      background: white;
      border-radius: var(--bubble-radius);
      overflow: hidden;
      box-shadow: var(--bubble-shadow);
      transition: all 0.5s ease;
      cursor: pointer;
      opacity: 0;
      transform: translateY(60px);
    }

    .card.visible { opacity: 1; transform: translateY(0); transition-delay: 0.4s; }

    .card:hover { 
      transform: translateY(-25px); 
      box-shadow: var(--card-hover); 
    }

    .card img { 
      width: 100%; 
      height: 280px; 
      object-fit: cover; 
      transition: transform 0.9s ease; 
    }

    .card:hover img { transform: scale(1.18); }

    .card-info { 
      padding: 2.8rem; 
      text-align: center;
    }

    .card-info h3 { 
      color: var(--primary); 
      margin-bottom: 1.2rem; 
      font-size: 1.85rem;
      font-weight: 700;
    }

    .card-info p { 
      margin-bottom: 1.4rem; 
      font-weight: 500;
      color: #555;
      line-height: 1.7;
    }

    .twin-quad {
      font-size: 1.55rem;
      font-weight: 700;
      color: #c62828;
      margin: 1.4rem 0;
    }

    .bonus-offer {
      font-size: 1rem;
      color: var(--primary);
      font-weight: 600;
      margin: 1.2rem 0;
      background: rgba(0,107,51,0.06);
      padding: 1rem;
      border-radius: 14px;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.88);
      overflow-y: auto;
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 3.5rem;
      border-radius: var(--bubble-radius);
      max-width: 1150px;
      width: 94%;
      box-shadow: 0 25px 70px rgba(0,0,0,0.35);
      position: relative;
    }

    .close {
      position: absolute;
      right: 2.5rem;
      top: 2rem;
      font-size: 3.5rem;
      cursor: pointer;
      color: var(--gray);
      transition: all 0.3s;
    }

    .close:hover {
      color: var(--primary);
      transform: scale(1.15);
    }

    .itinerary-section {
      margin: 3.5rem 0;
      text-align: center;
      background: #f0f8ff;
      padding: 3rem;
      border-radius: var(--bubble-radius);
    }

    .itinerary-map img {
      max-width: 100%;
      max-height: 520px;
      object-fit: contain;
      border-radius: var(--bubble-radius);
      box-shadow: var(--bubble-shadow);
    }

    #itineraryPorts {
      margin-top: 2rem;
      font-size: 1.3rem;
      color: var(--primary-dark);
      font-weight: 600;
    }

    .cabin-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
      margin: 3.5rem 0;
    }

    .cabin-card {
      background: #f0f8ff;
      padding: 2.5rem;
      text-align: center;
      border-radius: var(--bubble-radius);
      box-shadow: var(--bubble-shadow);
      transition: transform 0.3s;
    }

    .cabin-card:hover {
      transform: translateY(-12px);
    }

    .passenger-form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
    }

    .passenger-block {
      background: #f0f8ff;
      padding: 2.5rem;
      border-radius: var(--bubble-radius);
      box-shadow: var(--bubble-shadow);
    }

    .contact-info-section {
      margin: 3.5rem 0 2.5rem;
      padding: 3rem;
      background: #f0f8ff;
      border-radius: var(--bubble-radius);
      box-shadow: var(--bubble-shadow);
    }

    .contact-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
    }

    .terms-checkbox {
      display: flex;
      align-items: center;
      gap: 1.2rem;
      margin: 2.5rem 0;
      font-size: 1.15rem;
      font-weight: 600;
    }

    .terms-checkbox input {
      transform: scale(1.5);
    }

    .terms-checkbox a {
      color: var(--primary);
      text-decoration: underline;
      cursor: pointer;
    }

    .price-preview {
      text-align: center;
      padding: 3rem;
      background: #e8f5e8;
      border-radius: var(--bubble-radius);
      margin: 3rem 0;
      font-size: 1.6rem;
      box-shadow: var(--bubble-shadow);
    }

    .price-preview strong {
      font-size: 2.4rem;
      color: var(--primary-dark);
    }

    .checkout-btn {
      width: 100%;
      padding: 2rem;
      font-size: 1.7rem;
      border-radius: 35px;
      margin-top: 1.5rem;
      box-shadow: 0 12px 35px rgba(0,107,51,0.45);
    }

    .success-modal .modal-content {
      text-align: center;
      max-width: 650px;
      padding: 4.5rem;
    }

    .success-modal i {
      font-size: 8rem;
      color: var(--success);
      margin-bottom: 2.5rem;
    }

    .faq-section {
      background: #f0f8ff;
      padding: 5rem 0;
    }

    .faq-accordion {
      max-width: 1100px;
      margin: 0 auto;
    }

    .faq-item {
      margin-bottom: 1.2rem;
      border-radius: var(--bubble-radius);
      overflow: hidden;
      box-shadow: var(--bubble-shadow);
    }

    .faq-question {
      background: white;
      padding: 1.8rem;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.3s;
    }

    .faq-question:hover {
      background: #f0f8ff;
    }

    .faq-question i {
      transition: transform 0.3s;
    }

    .faq-question.active i {
      transform: rotate(180deg);
    }

    .faq-answer {
      background: #f8f9fa;
      padding: 0 1.8rem;
      max-height: 0;
      overflow: hidden;
      transition: all 0.4s ease;
    }

    .faq-answer.active {
      padding: 1.8rem;
      max-height: 900px;
    }

    footer {
      background: linear-gradient(135deg, var(--dark), var(--primary-dark));
      color: white;
      text-align: center;
      padding: 7rem 2.5rem 5rem;
    }

    .social-icons a { 
      color: white; 
      font-size: 2.8rem; 
      margin: 0 2.5rem; 
      transition: all 0.3s;
    }

    .social-icons a:hover { 
      color: var(--accent); 
      transform: translateY(-10px) scale(1.15);
    }

    @media (max-width: 768px) {
      section { padding: 5.5rem 1.2rem; }
      .hero { min-height: 90vh; }
      .search-box { padding: 3.5rem; }
      .form-grid { grid-template-columns: 1fr; }
      .card img { height: 240px; }
      .modal-content { padding: 2.5rem; margin: 8% auto; }
      .passenger-form-grid { grid-template-columns: 1fr; }
      .itinerary-map img { max-height: 380px; }
    }
  </style>
</head>
<body>

  <header>
    <nav class="container">
      <a href="#" class="logo"><i class="fas fa-ship"></i> Cruising <span>DownUnder</span></a>
      <div class="nav-links" id="navMenu">
        <a href="#deals">Hot Deals</a>
        <a href="#destinations">Destinations</a>
        <a href="#lines">Cruise Lines</a>
        <a href="#faq">FAQ</a>
        <a href="#about">About Us</a>
        <a href="#contact">Contact</a>
        <div class="user-menu">
          <button id="userBtn">Login / Sign Up</button>
          <div class="user-dropdown" id="userDropdown">
            <a onclick="openModal('loginModal'); closeDropdown()">Login</a>
            <a onclick="openModal('signupModal'); closeDropdown()">Sign Up</a>
            <button onclick="logout(); closeDropdown()">Logout</button>
          </div>
        </div>
        <div class="cart-icon" onclick="openModal('holdsModal')">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cartCount">0</span>
        </div>
      </div>
      <div class="hamburger" id="hamburger">
        <span></span><span></span><span></span>
      </div>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-content">
      <h1>Set Sail Down Under</h1>
      <p>Exclusive 2026+ cruise deals from Australia. Tropical islands, fjords, reefs – unbeatable prices on Carnival, Royal Caribbean & more.</p>
      <button class="hero-btn" onclick="document.getElementById('deals').scrollIntoView({behavior:'smooth'})">View Hot Deals</button>

      <div class="search-box">
        <h3>Find Your Perfect Cruise</h3>
        <form class="form-grid" id="search-form">
          <select id="searchDepart">
            <option value="">Depart From</option>
            <option>Sydney</option>
            <option>Brisbane</option>
            <option>Melbourne</option>
            <option>Perth</option>
            <option>Any Australian Port</option>
          </select>
          <select id="searchLine">
            <option value="">Cruise Line</option>
            <option>Carnival</option>
            <option>Royal Caribbean</option>
            <option>Princess</option>
            <option>Celebrity</option>
            <option>Norwegian</option>
          </select>
          <select id="searchMonth">
            <option value="">Departure Month</option>
            <option>January 2026</option>
            <option>February 2026</option>
            <option>March 2026</option>
            <option>April 2026</option>
            <option>May 2026</option>
            <option>June 2026</option>
            <option>July 2026</option>
            <option>August 2026</option>
            <option>September 2026</option>
            <option>October 2026</option>
            <option>November 2026</option>
            <option>December 2026</option>
          </select>
          <select id="searchNights">
            <option value="">Nights</option>
            <option>3-5 Nights</option>
            <option>6-9 Nights</option>
            <option>10-14 Nights</option>
            <option>15+ Nights</option>
          </select>
          <button type="submit">Search Cruises <i class="fas fa-search"></i></button>
        </form>
        <div id="searchResults" style="margin-top:3.5rem;display:none;">
          <h3>Search Results</h3>
          <div class="grid" id="resultsGrid"></div>
        </div>
      </div>
    </div>
  </section>

  <section id="deals" class="container">
    <h2>Featured 2026 Deals</h2>
    <div class="grid" id="dealsGrid"></div>
  </section>

  <!-- Cabin Modal -->
  <div id="cabinModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('cabinModal')">&times;</span>
      <h2 id="modalTitle">Booking Details</h2>

      <div class="itinerary-section">
        <h3>Itinerary & Ports</h3>
        <div class="itinerary-map">
          <img id="itineraryMap" src="" alt="Cruise route map">
        </div>
        <p id="itineraryPorts"></p>
      </div>

      <h3>Available Cabin Types</h3>
      <div class="cabin-grid" id="cabinGrid"></div>

      <div id="passengerSection" style="display:none;">
        <h3>Passenger Details</h3>
        <div class="passenger-selector">
          <div>
            <label>Adults:</label>
            <select id="adultCount" onchange="updatePassengerForms()">
              <option value="1">1</option>
              <option value="2" selected>2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select>
          </div>
          <div>
            <label>Children (Under 17):</label>
            <select id="childCount" onchange="updatePassengerForms()">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
        </div>

        <div id="passengerForms"></div>

        <div class="contact-info-section">
          <h3>Contact Information</h3>
          <div class="contact-info-grid">
            <input type="email" id="contactEmail" placeholder="Email Address" required>
            <input type="email" id="contactEmailConfirm" placeholder="Confirm Email Address" required>
            <select id="countryCode" required>
              <option value="">Country Code</option>
              <option value="+61">Australia (+61)</option>
              <option value="+64">New Zealand (+64)</option>
              <option value="+1">United States (+1)</option>
              <option value="+44">United Kingdom (+44)</option>
              <option value="+33">France (+33)</option>
              <option value="+49">Germany (+49)</option>
              <option value="+81">Japan (+81)</option>
              <option value="+86">China (+86)</option>
              <option value="+91">India (+91)</option>
              <option value="+55">Brazil (+55)</option>
              <option value="+7">Russia (+7)</option>
              <option value="+34">Spain (+34)</option>
              <option value="+39">Italy (+39)</option>
              <option value="+27">South Africa (+27)</option>
              <option value="+82">South Korea (+82)</option>
              <option value="+52">Mexico (+52)</option>
              <option value="+20">Egypt (+20)</option>
              <option value="+66">Thailand (+66)</option>
              <option value="+31">Netherlands (+31)</option>
              <option value="+46">Sweden (+46)</option>
              <option value="+41">Switzerland (+41)</option>
              <option value="+47">Norway (+47)</option>
              <option value="+45">Denmark (+45)</option>
              <option value="+32">Belgium (+32)</option>
              <option value="+351">Portugal (+351)</option>
              <option value="+30">Greece (+30)</option>
              <option value="+90">Turkey (+90)</option>
              <option value="+971">UAE (+971)</option>
              <option value="+65">Singapore (+65)</option>
              <option value="+60">Malaysia (+60)</option>
            </select>
            <input type="tel" id="mobileNumber" placeholder="Mobile Number" required>
          </div>

          <div class="terms-checkbox">
            <input type="checkbox" id="agreeTerms" required>
            <label for="agreeTerms">I have read and agree to the <a onclick="openModal('termsModal')">Terms and Conditions</a></label>
          </div>
        </div>

        <div class="price-preview" id="pricePreview">
          <p>Price per person: <strong id="ppPrice">$0 AUD</strong></p>
          <p>Total for <span id="totalGuests">2</span> guests: <strong id="totalPrice">$0 AUD</strong></p>
          <small>* Single supplement may apply • Includes taxes, fees & gratuities</small>
        </div>

        <button class="checkout-btn" onclick="placeHold()">Place 48-Hour Hold</button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="modal success-modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('successModal')">&times;</span>
      <i class="fas fa-check-circle"></i>
      <h2>Hold Placed Successfully!</h2>
      <p>Your 48-hour cabin hold is confirmed.</p>
      <p>A confirmation email has been sent to you with full details.</p>
      <p>Our team has also been notified and will contact you shortly with payment options.</p>
      <button onclick="closeModal('successModal')">Close</button>
    </div>
  </div>

  <!-- Terms Modal -->
  <div id="termsModal" class="modal terms-modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('termsModal')">&times;</span>
      <h2>Terms and Conditions</h2>
      <p>By using Cruising DownUnder and making a booking, you agree to be bound by these terms and conditions.</p>
      <p>We act as an agent for cruise lines and suppliers. We do not operate the cruises ourselves and are not responsible for services provided by third parties.</p>
      <p>Deposits are non-refundable and non-transferable. Cancellations are subject to cruise line policies plus our administration fees.</p>
      <p>Prices are in AUD and subject to change. Availability is not guaranteed until confirmed.</p>
      <p>Passengers must have valid passports, visas, and vaccinations as required. It is your responsibility to ensure compliance.</p>
      <p>We recommend travel insurance covering cancellation, medical expenses, and other risks.</p>
      <p>Liability is limited to the extent permitted by law. We are not liable for acts of suppliers, force majeure, or events beyond our control.</p>
      <p>These terms may be updated. Continued use constitutes acceptance.</p>
      <p>For full details, contact us before booking.</p>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content" style="max-width:520px;">
      <span class="close" onclick="closeModal('loginModal')">&times;</span>
      <h2>Login</h2>
      <form id="loginForm">
        <input type="email" id="loginEmail" placeholder="Email" required>
        <input type="password" id="loginPassword" placeholder="Password" required>
        <button type="submit">Login</button>
        <p style="text-align:center;margin-top:1.2rem;"><a onclick="openModal('forgotModal'); closeModal('loginModal')">Forgot Password?</a></p>
      </form>
    </div>
  </div>

  <!-- Signup Modal -->
  <div id="signupModal" class="modal">
    <div class="modal-content" style="max-width:520px;">
      <span class="close" onclick="closeModal('signupModal')">&times;</span>
      <h2>Sign Up</h2>
      <form id="signupForm">
        <input type="text" id="signupName" placeholder="Full Name" required>
        <input type="email" id="signupEmail" placeholder="Email" required>
        <input type="password" id="signupPassword" placeholder="Password" required>
        <input type="password" id="signupPasswordConfirm" placeholder="Confirm Password" required>
        <button type="submit">Create Account</button>
      </form>
    </div>
  </div>

  <!-- Forgot Password Modal -->
  <div id="forgotModal" class="modal">
    <div class="modal-content" style="max-width:520px;">
      <span class="close" onclick="closeModal('forgotModal')">&times;</span>
      <h2>Forgot Password</h2>
      <p>Enter your email and we'll send a reset link.</p>
      <form id="forgotForm">
        <input type="email" id="forgotEmail" placeholder="Email" required>
        <button type="submit">Send Reset Link</button>
      </form>
    </div>
  </div>

  <!-- Holds Modal -->
  <div id="holdsModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('holdsModal')">&times;</span>
      <h2>Your Active Holds</h2>
      <div id="holdsItems"></div>
      <div class="hold-note">
        Your cabins are securely held for 48 hours.<br>
        Check your email for confirmation and deposit payment instructions.
      </div>
    </div>
  </div>

  <section id="destinations" class="container">
    <h2>Popular Destinations</h2>
    <div class="grid">
      <div class="card">
        <img src="https://www.tahititourisme.com/app/uploads/iris-images/22639/dji-0285-2-n060722-borabora-gauguina-ponant-julien-fabro-scaled-1-1920x1080-f50_50.jpg" alt="South Pacific luxury cruise">
        <div class="card-info">
          <h3>South Pacific Islands</h3>
          <p>Crystal waters, island hopping – pure paradise.</p>
        </div>
      </div>
      <div class="card">
        <img src="https://cruisepassenger.com.au/wp-content/uploads/2024/08/milford-sound-cruise-1536x865.jpg" alt="New Zealand fjords cruise">
        <div class="card-info">
          <h3>New Zealand Fjords</h3>
          <p>Majestic fjords, wildlife, and adventure.</p>
        </div>
      </div>
      <div class="card">
        <img src="https://greatbarrierreeftours.com/files/2022/03/reef-train-and-skyrail-scaled.jpg" alt="Great Barrier Reef aerial view">
        <div class="card-info">
          <h3>Great Barrier Reef</h3>
          <p>Colorful coral, tropical fish – diving paradise.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="lines" class="container">
    <h2>Popular Cruise Lines</h2>
    <div class="grid">
      <div class="card">
        <img src="https://www.carnival.com/-/media/Images/Ships/SL/carnival-splendor-mobile-4.jpg" alt="Carnival Splendor">
        <div class="card-info">
          <h3>Carnival Cruise Line</h3>
          <p>Fun-filled family cruising with entertainment and activities for all ages.</p>
        </div>
      </div>
      <div class="card">
        <img src="https://www.royalcaribbeanpresscenter.com/media_photos/1667045067_October-2022-Ovation-of-the-Seas-Sydney-Opera-House-background.jpg" alt="Royal Caribbean Ovation of the Seas">
        <div class="card-info">
          <h3>Royal Caribbean</h3>
          <p>Innovative ships with adventure activities, shows, and dining.</p>
        </div>
      </div>
      <div class="card">
        <img src="https://assets.princess.com/is/image/princesscruises/grand-princess-at-sea-exterior-full-cabo-san-lucas-header-gradient?qlt=82&ts=1748374395059" alt="Princess Cruises Grand Princess">
        <div class="card-info">
          <h3>Princess Cruises</h3>
          <p>Elegant ships and scenic itineraries with premium service.</p>
        </div>
      </div>
      <div class="card">
        <img src="https://www.celebritycruises.com/content/dam/celebrity/new-images/destination-pages/australia-new-zealand/edge-sydney-australia-evening-2560x1440.jpg" alt="Celebrity Edge in Sydney">
        <div class="card-info">
          <h3>Celebrity Cruises</h3>
          <p>Modern luxury with upscale dining and stylish design.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="faq" class="faq-section">
    <div class="container">
      <h2>Frequently Asked Questions</h2>
      <div class="faq-accordion">
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            How do I book a cruise?<i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            Select a deal, choose cabin type, fill passenger and contact details, agree to terms, and place a 48-hour hold. We'll email you confirmation and payment link.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            Are deposits refundable?<i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            Deposits are non-refundable. Cancellations follow cruise line policies plus our fees.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            Do I need travel insurance?<i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            Strongly recommended. It covers cancellation, medical, and more. Medicare doesn't cover overseas or onboard.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            What documents do I need?<i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            Valid passport (6+ months validity), visas if required, and vaccinations. Check with embassies.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            Can I change my booking?<i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            Possible with fees, subject to availability and cruise line approval.
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about" class="container">
    <h2>About Cruising DownUnder</h2>
    <p style="max-width:950px; margin:0 auto 3.5rem; text-align:center; font-size:1.25rem;">Your premier Australian cruise specialist. We secure exclusive group rates, onboard credits, and perks you won't find booking direct. Expert advice, prices in AUD.</p>
    <p style="text-align:center; font-weight:700; font-size:1.2rem;">ATAS Accredited • ABN: [Your ABN] • Australian Owned & Operated</p>
  </section>

  <section id="contact" class="container">
    <h2>Get in Touch</h2>
    <form style="max-width:950px; margin:0 auto; display:grid; gap:2.8rem; padding-bottom:6rem;">
      <input type="text" placeholder="Your Name" required/>
      <input type="email" placeholder="Your Email" required/>
      <select>
        <option>Enquiry Type</option>
        <option>Quote Request</option>
        <option>Booking Help</option>
        <option>General Enquiry</option>
      </select>
      <textarea placeholder="Your Message" required rows="16"></textarea>
      <button type="submit">Send Message <i class="fas fa-paper-plane"></i></button>
    </form>
  </section>

  <footer>
    <div class="container">
      <p style="font-size:1.5rem;">© 2026 Cruising DownUnder • Australia's Premier Cruise Deals</p>
      <p style="margin:2.5rem 0; font-size:1.2rem;">ABN: [Your ABN] • ATAS Accredited • Australian Owned</p>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </footer>

  <script>
    // Close dropdown when clicking outside
    function closeDropdown() {
      document.getElementById('userDropdown').classList.remove('active');
    }

    window.addEventListener('click', (e) => {
      if (!e.target.closest('.user-menu')) {
        closeDropdown();
      }
    });

    // User system (demo localStorage)
    let currentUser = null;
    const users = JSON.parse(localStorage.getItem('cruisingUsers')) || {};

    function updateUserUI() {
      const btn = document.getElementById('userBtn');
      if (currentUser) {
        btn.textContent = `Hi, ${currentUser.name.split(' ')[0]}`;
        document.querySelector('#userDropdown button').style.display = 'block';
        document.querySelectorAll('#userDropdown a').forEach(a => a.style.display = 'none');
      } else {
        btn.textContent = 'Login / Sign Up';
        document.querySelector('#userDropdown button').style.display = 'none';
        document.querySelectorAll('#userDropdown a').forEach(a => a.style.display = 'block');
      }
    }

    document.getElementById('loginForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value.trim().toLowerCase();
      const pass = document.getElementById('loginPassword').value;
      if (users[email] && users[email].password === pass) {
        currentUser = {email, name: users[email].name};
        updateUserUI();
        alert('Logged in successfully!');
        closeModal('loginModal');
      } else {
        alert('Invalid credentials');
      }
    });

    document.getElementById('signupForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const name = document.getElementById('signupName').value.trim();
      const email = document.getElementById('signupEmail').value.trim().toLowerCase();
      const pass = document.getElementById('signupPassword').value;
      const confirm = document.getElementById('signupPasswordConfirm').value;
      if (pass !== confirm) return alert('Passwords do not match');
      if (users[email]) return alert('Email already registered');
      users[email] = {name, password: pass};
      localStorage.setItem('cruisingUsers', JSON.stringify(users));
      alert('Account created! Please login.');
      closeModal('signupModal');
      openModal('loginModal');
    });

    document.getElementById('forgotForm').addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Reset link sent (demo)');
      closeModal('forgotModal');
    });

    function logout() {
      currentUser = null;
      updateUserUI();
    }

    // Cruises data
    const allCruises = [
      {
        key: 'south-pacific',
        name: '9-Night South Pacific Escape',
        depart: 'Sydney',
        line: 'Paul Gauguin',
        month: 'March 2026',
        nights: '6-9 Nights',
        image: 'https://www.tahititourisme.com/app/uploads/iris-images/22639/dji-0285-2-n060722-borabora-gauguina-ponant-julien-fabro-scaled-1-1920x1080-f50_50.jpg',
        map: 'https://www.tahititourisme.com/app/uploads/iris-images/22639/dji-0285-2-n060722-borabora-gauguina-ponant-julien-fabro-scaled-1-1920x1080-f50_50.jpg',
        ports: 'Day 1: Sydney • Day 3: Mystery Island • Day 4: Lifou • Day 5: Noumea • Day 9: Sydney',
        basePP: 899,
        bonus: '+ $150 onboard credit per cabin'
      },
      {
        key: 'nz-fjords',
        name: '12-Night NZ Fjords Adventure',
        depart: 'Sydney',
        line: 'Princess',
        month: 'February 2026',
        nights: '10-14 Nights',
        image: 'https://cruisepassenger.com.au/wp-content/uploads/2024/08/milford-sound-cruise-1536x865.jpg',
        map: 'https://cruisepassenger.com.au/wp-content/uploads/2024/08/milford-sound-cruise-1536x865.jpg',
        ports: 'Day 1-2: Sydney • Day 5: Milford Sound • Day 6: Doubtful Sound • Day 7: Dusky Sound • Day 12: Sydney',
        basePP: 1299,
        bonus: '+ Free premium drinks package'
      },
      {
        key: 'reef',
        name: '7-Night Great Barrier Reef',
        depart: 'Brisbane',
        line: 'Carnival',
        month: 'April 2026',
        nights: '6-9 Nights',
        image: 'https://greatbarrierreeftours.com/files/2022/03/reef-train-and-skyrail-scaled.jpg',
        map: 'https://greatbarrierreeftours.com/files/2022/03/reef-train-and-skyrail-scaled.jpg',
        ports: 'Day 1: Brisbane • Day 3: Airlie Beach • Day 5: Cairns • Day 6: Willis Island • Day 7: Brisbane',
        basePP: 799,
        bonus: '+ Kids sail free on family cabins'
      },
      {
        key: 'vanuatu',
        name: '10-Night Vanuatu Escape',
        depart: 'Brisbane',
        line: 'Carnival',
        month: 'May 2026',
        nights: '10-14 Nights',
        image: 'https://www.carnival.com/-/media/Images/Ships/SL/carnival-splendor-mobile-4.jpg',
        map: 'https://www.carnival.com/-/media/Images/Ships/SL/carnival-splendor-mobile-4.jpg',
        ports: 'Day 1: Brisbane • Day 4: Noumea • Day 6: Mystery Island • Day 7: Port Vila • Day 10: Brisbane',
        basePP: 949,
        bonus: '+ $250 onboard credit per cabin'
      }
    ];

    // Render cruises
    function renderCruises(containerId, cruisesList) {
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      cruisesList.forEach(cruise => {
        const card = document.createElement('div');
        card.className = 'card';
        card.onclick = () => openCabinModal(cruise.key);
        card.innerHTML = `
          <img src="${cruise.image}" alt="${cruise.name}">
          <div class="card-info">
            <h3>${cruise.name}</h3>
            <p>${cruise.depart} departure • ${cruise.line}</p>
            <p class="twin-quad"><strong>Twin from $${cruise.basePP} pp</strong></p>
            <p class="bonus-offer">${cruise.bonus}</p>
            <button>Select Cabin</button>
          </div>
        `;
        container.appendChild(card);
      });
      document.querySelectorAll('#' + containerId + ' .card').forEach(c => obs.observe(c));
    }

    // State
    const state = {
      holds: JSON.parse(localStorage.getItem('cruisingHolds')) || [],
      currentCruise: null,
      currentCabin: null,
      currentPP: 0
    };

    const cabinTypes = [
      {id:'interior', name:'Interior', mult:1.0},
      {id:'ocean', name:'Ocean View', mult:1.35},
      {id:'balcony', name:'Balcony', mult:1.7},
      {id:'suite', name:'Suite', mult:2.8}
    ];

    const $ = id => document.getElementById(id);
    const cartCount = $('cartCount');

    function openModal(id) {
      const modal = $(id);
      if (modal) modal.style.display = 'block';
    }

    function closeModal(id) {
      const modal = $(id);
      if (modal) modal.style.display = 'none';
    }

    document.querySelectorAll('.close').forEach(btn => {
      btn.onclick = () => closeModal(btn.closest('.modal').id);
    });

    window.onclick = e => {
      if (e.target.classList.contains('modal')) closeModal(e.target.id);
    };

    function openCabinModal(key) {
      const cruise = allCruises.find(c => c.key === key);
      if (!cruise) return;
      state.currentCruise = key;
      $('modalTitle').textContent = cruise.name;

      $('itineraryMap').src = cruise.map;
      $('itineraryPorts').textContent = cruise.ports;

      const grid = $('cabinGrid');
      grid.innerHTML = '';
      const base = cruise.basePP;
      cabinTypes.forEach(c => {
        const pp = Math.round(base * c.mult);
        const card = document.createElement('div');
        card.className = 'cabin-card';
        card.innerHTML = `
          <h4>${c.name}</h4>
          <p><strong>from $${pp.toLocaleString()} AUD pp</strong></p>
          <p>${c.name === 'Interior' ? 'Great value' : c.name === 'Ocean View' ? 'Window views' : c.name === 'Balcony' ? 'Private balcony' : 'Luxury suite'}</p>
          <button onclick="selectCabin('${c.id}', ${pp})">Select</button>
        `;
        grid.appendChild(card);
      });

      $('passengerSection').style.display = 'none';
      openModal('cabinModal');
    }

    function selectCabin(id, pp) {
      state.currentCabin = id;
      state.currentPP = pp;
      $('cabinGrid').style.display = 'none';
      $('passengerSection').style.display = 'block';
      updatePassengerForms();
    }

    function updatePassengerForms() {
      generatePassengerForms();
      updatePricePreview();
    }

    function generatePassengerForms() {
      const adults = parseInt($('adultCount').value) || 1;
      const children = parseInt($('childCount').value) || 0;
      const total = adults + children;
      const container = $('passengerForms');
      container.innerHTML = '';

      const titles = ['Mr', 'Mrs', 'Ms', 'Miss', 'Dr', 'Prof'];

      for (let i = 1; i <= total; i++) {
        const type = i <= adults ? 'Adult' : 'Child';
        const num = i <= adults ? i : i - adults;
        container.innerHTML += `
          <div class="passenger-block">
            <h4>${type} ${num}</h4>
            <div class="passenger-form-grid">
              <select required>
                <option value="">Title</option>
                ${titles.map(t => `<option>${t}</option>`).join('')}
              </select>
              <input type="text" placeholder="First Name" required>
              <input type="text" placeholder="Middle Name">
              <input type="text" placeholder="Last Name" required>
              <input type="date" placeholder="Date of Birth" required>
              <input type="text" placeholder="Nationality" required>
            </div>
          </div>
        `;
      }
    }

    function updatePricePreview() {
      const adults = parseInt($('adultCount').value) || 1;
      const children = parseInt($('childCount').value) || 0;
      const totalGuests = adults + children;

      let pp = state.currentPP;
      if (totalGuests === 1) pp = Math.round(pp * 1.75);

      const total = pp * totalGuests;

      $('ppPrice').textContent = `$${pp.toLocaleString()} AUD`;
      $('totalGuests').textContent = totalGuests;
      $('totalPrice').textContent = `$${total.toLocaleString()} AUD`;
    }

    function validateForms() {
      const required = document.querySelectorAll('#passengerForms input[required], #passengerForms select[required]');
      for (const field of required) {
        if (!field.value.trim()) {
          alert('Please fill all required passenger details');
          return false;
        }
      }
      return true;
    }

    function validateContact() {
      const email = $('contactEmail').value.trim();
      const confirm = $('contactEmailConfirm').value.trim();
      const code = $('countryCode').value;
      const mobile = $('mobileNumber').value.trim();
      const terms = $('agreeTerms').checked;

      if (!email || !confirm || email !== confirm) {
        alert('Emails must match and be valid');
        return false;
      }
      if (!code || !mobile) {
        alert('Please enter country code and mobile number');
        return false;
      }
      if (!terms) {
        alert('You must agree to terms');
        return false;
      }
      return {email, phone: code + mobile};
    }

    function placeHold() {
      if (!validateForms() || !validateContact()) return;

      const contact = validateContact();
      const adults = parseInt($('adultCount').value);
      const children = parseInt($('childCount').value);
      const totalGuests = adults + children;
      let pp = state.currentPP;
      if (totalGuests === 1) pp = Math.round(pp * 1.75);
      const total = pp * totalGuests;

      const cruise = allCruises.find(c => c.key === state.currentCruise);

      const holdData = {
        id: Date.now(),
        cruise: cruise.name,
        cabin: state.currentCabin,
        guests: totalGuests,
        total: total,
        email: contact.email,
        phone: contact.phone,
        expires: Date.now() + 48*60*60*1000
      };

      state.holds.push(holdData);
      localStorage.setItem('cruisingHolds', JSON.stringify(state.holds));
      updateCartCount();
      renderHolds();

      // Send to Vercel serverless function (this handles both customer and admin emails via Brevo)
      fetch('/api/send-hold', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          to_email: contact.email,
          cruise_name: cruise.name,
          cabin_type: state.currentCabin.toUpperCase(),
          guests: totalGuests,
          total_price: `$${total.toLocaleString()} AUD`,
          customer_email: contact.email,
          customer_phone: contact.phone
        })
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          console.log('Hold confirmation sent via Brevo!');
          closeModal('cabinModal');
          openModal('successModal');
        } else {
          console.error('Server error:', data.error);
          alert('Hold placed, but email sending failed: ' + (data.error || 'Unknown error'));
        }
      })
      .catch(err => {
        console.error('Fetch error:', err);
        alert('Network error – hold placed, but email may not have sent. Please contact us.');
      });
    }

    function updateCartCount() {
      cartCount.textContent = state.holds.length;
    }

    function renderHolds() {
      const container = $('holdsItems');
      if (state.holds.length === 0) {
        container.innerHTML = '<p style="text-align:center;padding:3.5rem;font-size:1.3rem;">No active holds yet. Start booking your dream cruise!</p>';
        return;
      }

      container.innerHTML = state.holds.map((hold, i) => `
        <div class="holds-item">
          <div>
            <strong>${hold.cruise} - ${hold.cabin.toUpperCase()} Cabin</strong><br>
            ${hold.guests} Guest${hold.guests > 1 ? 's' : ''} • Contact: ${hold.email}<br>
            <small>Expires: ${new Date(hold.expires).toLocaleString()}</small>
          </div>
          <div style="text-align:right;">
            <strong>$${hold.total.toLocaleString()} AUD</strong><br>
            <button onclick="removeHold(${i})" style="color:#c00;margin-top:1rem;padding:0.7rem 1.4rem;border-radius:14px;">Remove Hold</button>
          </div>
        </div>
      `).join('');
    }

    function removeHold(index) {
      if (confirm('Remove this hold?')) {
        state.holds.splice(index, 1);
        localStorage.setItem('cruisingHolds', JSON.stringify(state.holds));
        updateCartCount();
        renderHolds();
      }
    }

    // Hamburger
    $('hamburger').addEventListener('click', () => {
      $('navMenu').classList.toggle('active');
      $('hamburger').classList.toggle('active');
    });

    // Scroll header
    window.addEventListener('scroll', () => {
      document.querySelector('header').classList.toggle('scrolled', window.scrollY > 80);
    });

    // Card animations
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => e.isIntersecting && e.target.classList.add('visible'));
    }, {threshold: 0.15});

    // FAQ toggle
    function toggleFAQ(el) {
      el.classList.toggle('active');
      const answer = el.nextElementSibling;
      answer.classList.toggle('active');
    }

    // Search
    $('search-form').addEventListener('submit', e => {
      e.preventDefault();
      const depart = $('searchDepart').value;
      const line = $('searchLine').value;
      const month = $('searchMonth').value;
      const nights = $('searchNights').value;

      let results = allCruises;
      if (depart) results = results.filter(c => c.depart.toLowerCase().includes(depart.toLowerCase()));
      if (line) results = results.filter(c => c.line.toLowerCase().includes(line.toLowerCase()));
      if (month) results = results.filter(c => c.month.includes(month));
      if (nights) results = results.filter(c => c.nights === nights);

      renderCruises('resultsGrid', results);
      $('searchResults').style.display = results.length ? 'block' : 'none';
      if (results.length === 0) $('resultsGrid').innerHTML = '<p style="grid-column:1/-1;text-align:center;padding:3.5rem;">No matching cruises. Try different filters!</p>';
      $('searchResults').scrollIntoView({behavior: 'smooth'});
    });

    // Init
    document.addEventListener('DOMContentLoaded', () => {
      updateUserUI();
      renderCruises('dealsGrid', allCruises);
      const now = Date.now();
      state.holds = state.holds.filter(h => h.expires > now);
      localStorage.setItem('cruisingHolds', JSON.stringify(state.holds));
      updateCartCount();
      renderHolds();
    });
  </script>
</body>
</html>
